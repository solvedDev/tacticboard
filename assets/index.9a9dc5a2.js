var E=Object.defineProperty,R=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var C=(s,e,r)=>e in s?E(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,O=(s,e)=>{for(var r in e||(e={}))W.call(e,r)&&C(s,r,e[r]);if(N)for(var r of N(e))I.call(e,r)&&C(s,r,e[r]);return s},S=(s,e)=>R(s,V(e));import{d as g,o as d,c as f,r as z,a as v,u as _,b as A,w as L,t as F,e as K,v as T,f as j,n as u,g as n,h as q,i as M,j as U,k as i,F as w,l as h,m as x,p as B,q as P,s as k,x as G,y as H}from"./vendor.90f62a52.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(t){if(t.ep)return;t.ep=!0;const l=r(t);fetch(t.href,l)}};J();const $=g({emits:["click"],setup(s,{emit:e}){return(r,a)=>(d(),f("button",{class:"bg-white m-2 px-3 py-1 drop-shadow-lg hover:drop-shadow-2xl rounded-lg active:bg-lime-100 focus:ring focus:ring-lime-800",onClick:a[0]||(a[0]=t=>e("click"))},[z(r.$slots,"default")]))}}),Q={key:0,class:"touch-none"},D=g({props:{isOpponent:{type:Boolean,default:!1},playerNumber:null},setup(s){const e=s,r=v(null),a=v(null),t=e.playerNumber,l=_(e.isOpponent?`opponent#${t}`:`player#${t}`,{playerNumber:t,position:{x:e.isOpponent?window.innerWidth-60:12,y:60}}),o=v("readonly"),c=v(l.value.playerNumber),{style:p}=A(r,{initialValue:l.value.position,onStart:()=>o.value==="readonly"?void 0:!1,onEnd:b=>{l.value={playerNumber:c.value,position:b}},preventDefault:!0,stopPropagation:!0});return L(o,()=>{o.value==="edit"&&M(()=>{var b;return(b=a.value)==null?void 0:b.focus()})}),L(c,()=>{l.value=S(O({},l.value),{playerNumber:c.value})}),(b,m)=>(d(),f("div",{ref_key:"player",ref:r,style:u(n(p)),class:q(["cursor-pointer select-none touch-none absolute h-12 w-12 border border-2 rounded-full bg-white grid content-center text-center",{"border-lime-900 text-lime-900 bg-white":!e.isOpponent,"border-white text-white bg-red-800":e.isOpponent}]),onDblclick:m[3]||(m[3]=y=>o.value=o.value==="readonly"?"edit":"readonly")},[o.value==="readonly"?(d(),f("span",Q,F(c.value),1)):K((d(),f("input",{key:1,class:"w-8 touch-none","onUpdate:modelValue":m[0]||(m[0]=y=>c.value=y),ref_key:"editInput",ref:a,onKeydown:m[1]||(m[1]=j(y=>o.value="readonly",["enter"])),onBlur:m[2]||(m[2]=y=>o.value="readonly"),type:"number"},null,544)),[[T,c.value]])],38))}}),X=g({setup(s){const{width:e,height:r}=U();return(a,t)=>(d(),f(w,null,[i("div",{style:u({left:`${n(e)/2}px`}),class:"absolute w-[2px] h-full bg-white"},null,4),i("div",{style:u({left:`calc(${n(e)/2}px - 9rem)`,top:`calc(${n(r)/2}px - 9rem)`}),class:"absolute w-[18rem] h-[18rem] rounded-full border border-2 border-white"},null,4),i("div",{style:u({left:`calc(${n(e)/2}px - 0.5rem)`,top:`calc(${n(r)/2}px - 0.5rem)`}),class:"absolute w-[1rem] h-[1rem] rounded-full bg-white"},null,4),i("div",{style:u({left:"8rem",top:`calc(${n(r)/2}px - 6rem)`}),class:"absolute w-[12rem] h-[12rem] rounded-full border border-2 border-white"},null,4),i("div",{style:u({left:"4rem",top:`calc(${n(r)/2}px - 12rem)`}),class:"absolute w-[12rem] h-[24rem] bg-lime-600 border border-2 border-white"},null,4),i("div",{style:u({left:"4rem",top:`calc(${n(r)/2}px - 7rem)`}),class:"absolute w-[4rem] h-[14rem] border border-2 border-white"},null,4),i("div",{style:u({left:"12rem",top:`calc(${n(r)/2}px - 0.5rem)`}),class:"absolute w-[1rem] h-[1rem] rounded-full bg-white"},null,4),i("div",{style:u({left:`calc(${n(e)}px - 20rem)`,top:`calc(${n(r)/2}px - 6rem)`}),class:"absolute w-[12rem] h-[12rem] rounded-full border border-2 border-white"},null,4),i("div",{style:u({left:`calc(${n(e)}px - 16rem)`,top:`calc(${n(r)/2}px - 12rem)`}),class:"absolute w-[12rem] h-[24rem] bg-lime-600 border border-2 border-white"},null,4),i("div",{style:u({left:`calc(${n(e)}px - 8rem)`,top:`calc(${n(r)/2}px - 7rem)`}),class:"absolute w-[4rem] h-[14rem] border border-2 border-white"},null,4),i("div",{style:u({left:`calc(${n(e)}px - 13rem)`,top:`calc(${n(r)/2}px - 0.5rem)`}),class:"absolute w-[1rem] h-[1rem] rounded-full bg-white"},null,4)],64))}});const Y=k("+"),Z=k("Clear"),ee=k(" + "),re=g({setup(s){const e=_("playerCount",0),r=_("opponentPlayerCount",0);function a(){e.value=0,r.value=0}return(t,l)=>(d(),f(w,null,[h(X),h($,{onClick:l[0]||(l[0]=o=>e.value++)},{default:x(()=>[Y]),_:1}),h($,{onClick:a},{default:x(()=>[Z]),_:1}),h($,{class:"float-right",onClick:l[1]||(l[1]=o=>r.value++)},{default:x(()=>[ee]),_:1}),(d(!0),f(w,null,B(n(e),o=>(d(),P(D,{playerNumber:o},null,8,["playerNumber"]))),256)),(d(!0),f(w,null,B(n(r),o=>(d(),P(D,{playerNumber:o,isOpponent:!0},null,8,["playerNumber"]))),256))],64))}});function te(s={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:a,onRegistered:t,onRegisterError:l}=s;let o;const c=async(p=!0)=>{};return"serviceWorker"in navigator&&(o=new G("/tacticboard/service-worker.js",{scope:"/tacticboard/",type:"classic"}),o.addEventListener("activated",p=>{p.isUpdate?window.location.reload():a==null||a()}),o.register({immediate:e}).then(p=>{t==null||t(p)}).catch(p=>{l==null||l(p)})),c}te({onOfflineReady(){}});H(re).mount("#app");
